import { Disposable } from '../../../../util/vs/base/common/lifecycle';
import { OffsetRange } from '../../../../util/vs/editor/common/core/ranges/offsetRange';
import { StringText } from '../../../../util/vs/editor/common/core/text/abstractText';
import { DocumentId } from '../dataTypes/documentId';
import { RootedEdit } from '../dataTypes/edit';
import { ObservableWorkspace } from '../observableWorkspace';
export interface IXtabHistoryDocumentEntry {
    docId: DocumentId;
}
export interface IXtabHistoryEditEntry extends IXtabHistoryDocumentEntry {
    kind: 'edit';
    edit: RootedEdit;
}
export interface IXtabHistoryVisibleRangesEntry extends IXtabHistoryDocumentEntry {
    kind: 'visibleRanges';
    visibleRanges: readonly OffsetRange[];
    documentContent: StringText;
}
export type IXtabHistoryEntry = IXtabHistoryEditEntry | IXtabHistoryVisibleRangesEntry;
export declare class NesXtabHistoryTracker extends Disposable {
    private readonly maxHistorySize;
    /** Max # of entries in history */
    private static MAX_HISTORY_SIZE;
    private readonly idToEntry;
    private readonly history;
    constructor(workspace: ObservableWorkspace, maxHistorySize?: number);
    getHistory(): IXtabHistoryEntry[];
    /**
     * If the document isn't already in history, add it to the history.
     * If the document is in history either with an edit or selection entry, do not include it again.
     */
    private handleVisibleRangesChange;
    private handleEdits;
    private pushToHistory;
    private compactHistory;
}
//# sourceMappingURL=nesXtabHistoryTracker.d.ts.map