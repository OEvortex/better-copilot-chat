import { StatelessNextEditDocument } from '../../../platform/inlineEdits/common/statelessNextEditProvider';
import { ChoiceLogProbs } from '../../../platform/networking/common/openai';
import { Range } from '../../../util/vs/editor/common/core/range';
import { OffsetRange } from '../../../util/vs/editor/common/core/ranges/offsetRange';
/**
 * Read the selection from the document, otherwise deduce it from the last edit.
 */
export declare function getOrDeduceSelectionFromLastEdit(activeDoc: StatelessNextEditDocument): Range | null;
type Tokens = Token<number>[];
export declare class Token<T> {
    readonly text: string;
    readonly value: T;
    readonly range: OffsetRange;
    get id(): string;
    constructor(text: string, value: T, offset: number);
    equals(other: Token<T>): boolean;
    deltaOffset(offset: number): Token<T>;
}
export declare function clipTokensToRange(tokens: Tokens, range: OffsetRange): Tokens;
export declare function clipTokensToRangeAndAdjustOffsets(tokens: Tokens, range: OffsetRange): Tokens;
export declare function removeTokensInRangeAndAdjustOffsets(tokens: Tokens, range: OffsetRange): Tokens;
export declare function getTokensFromLogProbs(logProbs: ChoiceLogProbs, offset: number): Tokens;
export declare class LineWithTokens {
    private readonly _text;
    private readonly _tokens;
    private readonly _eol;
    static stringEquals(a: LineWithTokens, b: LineWithTokens): boolean;
    static fromText(text: string, tokens: Tokens | undefined): LineWithTokens[];
    get text(): string;
    get tokens(): Tokens;
    get length(): number;
    get lengthWithEOL(): number;
    get eol(): '\n' | '\r\n';
    constructor(_text: string, _tokens: Tokens, _eol: '\n' | '\r\n');
    trim(): LineWithTokens;
    trimStart(): LineWithTokens;
    trimEnd(): LineWithTokens;
    substring(start: number, end: number): LineWithTokens;
    stringEquals(other: LineWithTokens): boolean;
    equals(other: LineWithTokens): boolean;
    dropTokens(tokens: Tokens): LineWithTokens;
    findTokens(fn: (token: Token<number>) => boolean): Token<number>[];
}
export declare function getTokensFromLinesWithTokens(lines: LineWithTokens[]): Tokens;
export declare function mergeOffsetRangesAtDistance(ranges: OffsetRange[], distance: number): OffsetRange[];
export {};
//# sourceMappingURL=nearbyCursorInlineEditProvider.d.ts.map