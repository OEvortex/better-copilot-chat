import type { Disposable } from 'vscode';
import { CancellationToken } from 'vscode-languageserver-protocol';
import { ResolveOnTimeoutResult, ResolveResult } from '../../../types/src';
/**
 * Converts an event to a Promise that resolves when the event is fired
 * @param subscribe A function that takes a listener and returns a Disposable for cleanup
 * @returns A Promise that resolves with the event data when the event fires
 */
export declare function eventToPromise<T>(subscribe: (listener: (event: T) => void) => Disposable): Promise<T>;
export declare function isArrayOfT<T>(value: ResolveOnTimeoutResult<T> | undefined): value is readonly T[];
type ResolvedItem<T> = {
    status: 'full' | 'partial';
    resolutionTime: number;
    value: T[];
} | {
    status: 'none';
    resolutionTime: number;
    value: null;
} | {
    status: 'error';
    resolutionTime: number;
    reason: unknown;
};
/**
 * Resolves concurrently all given promises or async iterables, returning a map of their results.
 *
 * Given a collection of either promises resolving to single elements, arrays or async iterables,
 * this function will resolve them all to arrays and return a map of the results.
 * If a cancellation token is provided, when it is triggered, the function will stop resolving
 * and return the results collected so far, with the async iterables potentially returning partial results.
 *
 * @param resolvables A map of keys to promises or async iterables.
 * @param cancellation An optional cancellation promise.
 * @returns A promise that resolves to a map of the results.
 */
export declare function resolveAll<K, T>(resolvables: Map<K, ResolveResult<T>>, cancellationToken?: CancellationToken): Promise<Map<K, ResolvedItem<T>>>;
export {};
//# sourceMappingURL=asyncUtils.d.ts.map