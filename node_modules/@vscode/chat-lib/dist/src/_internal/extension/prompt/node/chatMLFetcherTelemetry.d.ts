import { ChatFetchError } from '../../../platform/chat/common/commonTypes';
import { FetcherId } from '../../../platform/networking/common/fetcherService';
import { IChatEndpoint, IChatRequestTelemetryProperties, IEndpointBody } from '../../../platform/networking/common/networking';
import { ChatCompletion } from '../../../platform/networking/common/openai';
import { ITelemetryService } from '../../../platform/telemetry/common/telemetry';
import { TelemetryData } from '../../../platform/telemetry/common/telemetryData';
export interface IChatMLFetcherSuccessfulData {
    chatCompletion: ChatCompletion;
    baseTelemetry: TelemetryData | undefined;
    userInitiatedRequest: boolean | undefined;
    chatEndpointInfo: IChatEndpoint | undefined;
    requestBody: IEndpointBody;
    maxResponseTokens: number;
    promptTokenCount: number;
    timeToFirstToken: number;
    timeToFirstTokenEmitted: number;
    hasImageMessages: boolean;
    fetcher: FetcherId | undefined;
}
export interface IChatMLFetcherCancellationProperties {
    source: string;
    requestId: string;
    model: string;
    apiType: string | undefined;
    associatedRequestId?: string;
    retryAfterErrorCategory?: string;
    retryAfterError?: string;
    retryAfterErrorGitHubRequestId?: string;
    connectivityTestError?: string;
    connectivityTestErrorGitHubRequestId?: string;
    retryAfterFilterCategory?: string;
    fetcher: FetcherId | undefined;
}
export interface IChatMLFetcherCancellationMeasures {
    totalTokenMax: number;
    promptTokenCount: number;
    tokenCountMax: number;
    timeToFirstToken: number | undefined;
    timeToFirstTokenEmitted?: number;
    timeToCancelled: number;
    isVisionRequest: number;
    isBYOK: number;
    isAuto: number;
}
export declare class ChatMLFetcherTelemetrySender {
    static sendSuccessTelemetry(telemetryService: ITelemetryService, { chatCompletion, baseTelemetry, userInitiatedRequest, chatEndpointInfo, requestBody, maxResponseTokens, promptTokenCount, timeToFirstToken, timeToFirstTokenEmitted, hasImageMessages, fetcher }: IChatMLFetcherSuccessfulData): void;
    static sendCancellationTelemetry(telemetryService: ITelemetryService, { source, requestId, model, apiType, associatedRequestId, retryAfterErrorCategory, retryAfterError, retryAfterErrorGitHubRequestId, connectivityTestError, connectivityTestErrorGitHubRequestId, retryAfterFilterCategory, fetcher, }: IChatMLFetcherCancellationProperties, { totalTokenMax, promptTokenCount, tokenCountMax, timeToFirstToken, timeToFirstTokenEmitted, timeToCancelled, isVisionRequest, isBYOK, isAuto }: IChatMLFetcherCancellationMeasures): void;
    static sendResponseErrorTelemetry(telemetryService: ITelemetryService, processed: ChatFetchError, telemetryProperties: IChatRequestTelemetryProperties | undefined, chatEndpointInfo: IChatEndpoint, requestBody: IEndpointBody, tokenCount: number, maxResponseTokens: number, timeToFirstToken: number, isVisionRequest: boolean, fetcher: FetcherId | undefined): void;
}
//# sourceMappingURL=chatMLFetcherTelemetry.d.ts.map